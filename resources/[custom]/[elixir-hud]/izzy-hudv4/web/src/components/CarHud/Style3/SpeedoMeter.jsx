import { useData } from 'contexts/DataContext';
import { useLang } from 'contexts/LangContext';
import React from 'react';

export default function SpeedoMeter({ vehicleData }) {
	const { lang } = useLang();
	const { speedType } = useData();
	const rpmLength = 294;
	const rpmOffset = rpmLength - (rpmLength * vehicleData.rpm) / 18;
	return (
		<div>
			<span className='font-hemi text-[4.5854rem] text-white/[.37] relative bottom-6'>
				{vehicleData.speed.toString().length == 1 ? '00' : vehicleData.speed.toString().length == 2 && '0'}
				<span className='text-white'>{vehicleData.speed}</span>
				<span className='text-lg text-white lowercase'> {lang[speedType] ?? lang['kmh']}</span>
			</span>

			<div className='mb-10 -translate-y-9'>
				<svg width='300' height='29' viewBox='0 0 300 29' fill='none' xmlns='http://www.w3.org/2000/svg'>
					<path d='M0.574219 28.0312H217.482' stroke='white' stroke-width='1.80757' />
					<path d='M0.574219 28.0312H89.145' stroke='white' stroke-width='1.80757' />
					<path
						className='transition-all'
						d='M0.574219 28.0312L217 27.9996'
						stroke='url(#paint0_linear_115_389)'
						stroke-width='1.80757'
						strokeDasharray={rpmLength}
						strokeDashoffset={rpmOffset}
					/>
					<path d='M224.713 28.0312H295.208' stroke='#D6262D' stroke-width='1.80757' />
					<path d='M0.574219 22.6084H217.482' stroke='white' stroke-opacity='0.51' stroke-width='10.8454' stroke-dasharray='1.81 28.92' />
					<path d='M224.713 22.6084H295.208' stroke='#D6262D' stroke-opacity='0.51' stroke-width='10.8454' stroke-dasharray='1.81 28.92' />
					<rect x='215.675' y='17.1855' width='1.80757' height='10.8454' fill='white' />
					<rect x='293.4' y='17.1855' width='1.80757' height='10.8454' fill='#D6262D' />
					<rect x='293.852' y='17.6374' width='0.903784' height='9.94162' stroke='#D6262D' stroke-opacity='0.51' stroke-width='0.903784' />
					<rect x='0.574219' y='17.1855' width='1.80757' height='10.8454' fill='white' />
					<rect x='224.713' y='17.1855' width='1.80757' height='10.8454' fill='#D6262D' />
					<rect x='225.165' y='17.6374' width='0.903784' height='9.94162' stroke='#D6262D' stroke-opacity='0.51' stroke-width='0.903784' />
					<path
						d='M10.8896 8.90512C10.7932 9.37509 10.6727 9.75468 10.5281 10.0439C10.3956 10.321 10.2148 10.544 9.98584 10.7127C9.76893 10.8693 9.48574 10.9778 9.13628 11.038C8.79887 11.0863 8.37108 11.1104 7.85291 11.1104H4.27392C3.82806 11.1104 3.46052 11.0923 3.17131 11.0561C2.8821 11.0079 2.65314 10.9416 2.48443 10.8573C2.31572 10.7609 2.19522 10.6344 2.12292 10.4777C2.06267 10.321 2.03254 10.1222 2.03254 9.88121C2.03254 9.60404 2.07472 9.27868 2.15907 8.90512L3.44244 2.90399C3.5509 2.43402 3.6714 2.05444 3.80396 1.76522C3.94856 1.47601 4.12932 1.25308 4.34623 1.09642C4.57518 0.939769 4.85837 0.83734 5.19578 0.789138C5.54525 0.728885 5.97304 0.698759 6.47916 0.698759H10.0581C10.8896 0.698759 11.468 0.783113 11.7934 0.951819C12.1308 1.12053 12.2995 1.44589 12.2995 1.92791C12.2995 2.20507 12.2573 2.53043 12.173 2.90399L10.8896 8.90512ZM8.84707 8.14594L9.80508 3.66317C9.86533 3.36191 9.89546 3.16308 9.89546 3.06667C9.89546 2.86182 9.82316 2.72926 9.67855 2.66901C9.546 2.60876 9.26884 2.57863 8.84707 2.57863H6.93105C6.67799 2.57863 6.46711 2.59068 6.2984 2.61478C6.14174 2.62683 6.00919 2.66901 5.90074 2.74131C5.80433 2.81361 5.726 2.92207 5.66575 3.06667C5.6055 3.21128 5.55127 3.41011 5.50307 3.66317L4.54506 8.14594C4.48481 8.4472 4.45468 8.64603 4.45468 8.74244C4.45468 8.9473 4.52096 9.07985 4.65351 9.1401C4.79812 9.20035 5.0813 9.23048 5.50307 9.23048H7.41909C7.67215 9.23048 7.87701 9.22446 8.03367 9.21241C8.20237 9.1883 8.33493 9.1401 8.43133 9.0678C8.53978 8.9955 8.61811 8.88704 8.66631 8.74244C8.72657 8.59783 8.78682 8.399 8.84707 8.14594Z'
						fill='white'
					/>
					<path d='M64.1323 11.1104H61.909L63.7166 2.57863H61.9452L62.3428 0.698759H66.3376L64.1323 11.1104Z' fill='white' />
					<path
						d='M127.396 11.1104H118.792L119.641 7.16985C119.786 6.49503 120.081 5.95878 120.527 5.56112C120.985 5.1514 121.557 4.94654 122.244 4.94654H125.281C125.57 4.94654 125.793 4.93449 125.95 4.91039C126.118 4.87424 126.251 4.82001 126.347 4.74771C126.444 4.66336 126.516 4.5549 126.564 4.42235C126.613 4.27774 126.661 4.09096 126.709 3.862L126.763 3.62702C126.811 3.38601 126.835 3.18718 126.835 3.03052C126.835 2.82566 126.763 2.69311 126.619 2.63286C126.486 2.5726 126.209 2.54248 125.787 2.54248H124.016C123.22 2.54248 122.744 2.90399 122.588 3.62702H120.382L120.545 2.86784C120.654 2.38582 120.774 2.00021 120.907 1.711C121.051 1.42179 121.238 1.19885 121.467 1.0422C121.696 0.885541 121.979 0.783113 122.317 0.734911C122.666 0.686709 123.094 0.662608 123.6 0.662608H127.034C127.866 0.662608 128.444 0.746962 128.77 0.915668C129.107 1.07232 129.276 1.39769 129.276 1.89175C129.276 2.12071 129.227 2.44608 129.131 2.86784L128.697 4.94654C128.637 5.2237 128.523 5.48279 128.354 5.7238C128.185 5.95276 127.974 6.15159 127.721 6.3203C127.468 6.47695 127.179 6.60348 126.854 6.69989C126.54 6.78424 126.203 6.82642 125.841 6.82642H122.678C122.353 6.82642 122.124 6.90474 121.991 7.0614C121.871 7.206 121.768 7.48919 121.684 7.91096L121.395 9.23048H127.793L127.396 11.1104Z'
						fill='white'
					/>
					<path
						d='M189.7 8.90512C189.603 9.36304 189.489 9.7366 189.356 10.0258C189.224 10.303 189.043 10.5259 188.814 10.6946C188.585 10.8513 188.296 10.9597 187.946 11.02C187.609 11.0802 187.175 11.1104 186.645 11.1104H183.211C182.379 11.1104 181.801 11.032 181.475 10.8754C181.15 10.7067 180.987 10.3753 180.987 9.88121C180.987 9.60404 181.029 9.27868 181.114 8.90512L181.258 8.14594H183.482C183.433 8.3749 183.409 8.56168 183.409 8.70629C183.409 8.92319 183.482 9.0678 183.626 9.1401C183.771 9.20035 184.048 9.23048 184.458 9.23048H186.229C186.506 9.23048 186.723 9.21843 186.88 9.19433C187.049 9.17023 187.181 9.12203 187.278 9.04972C187.374 8.96537 187.446 8.85692 187.494 8.72436C187.555 8.57976 187.609 8.38695 187.657 8.14594L187.693 7.91096C187.754 7.60969 187.784 7.40484 187.784 7.29638C187.784 6.98307 187.579 6.82642 187.169 6.82642H184.964L185.362 4.94654H187.133C187.398 4.94654 187.609 4.94052 187.766 4.92847C187.922 4.90437 188.049 4.85617 188.145 4.78386C188.254 4.71156 188.332 4.60311 188.38 4.4585C188.44 4.3139 188.501 4.11506 188.561 3.862L188.615 3.62702C188.675 3.32576 188.706 3.12693 188.706 3.03052C188.706 2.82566 188.633 2.69311 188.489 2.63286C188.344 2.5726 188.061 2.54248 187.639 2.54248H185.886C185.645 2.54248 185.44 2.56055 185.271 2.59671C185.114 2.62081 184.982 2.67503 184.873 2.75939C184.777 2.83169 184.693 2.94014 184.62 3.08475C184.56 3.2173 184.506 3.39806 184.458 3.62702H182.234L182.379 2.86784C182.487 2.39787 182.608 2.01828 182.741 1.72907C182.885 1.43986 183.072 1.21693 183.301 1.06027C183.542 0.903617 183.831 0.801189 184.169 0.752987C184.506 0.692735 184.928 0.662608 185.434 0.662608H188.868C189.7 0.662608 190.278 0.746962 190.603 0.915668C190.941 1.07232 191.11 1.39769 191.11 1.89175C191.11 2.16891 191.067 2.49428 190.983 2.86784L190.603 4.60311C190.555 4.86822 190.417 5.1273 190.188 5.38036C189.959 5.62137 189.718 5.79008 189.465 5.88648C189.886 6.12749 190.097 6.47695 190.097 6.93487C190.097 6.97102 190.091 7.00717 190.079 7.04332C190.079 7.07947 190.073 7.12165 190.061 7.16985L189.7 8.90512Z'
						fill='white'
					/>
					<path
						d='M230.943 8.90512C230.847 9.37509 230.726 9.75468 230.582 10.0439C230.449 10.321 230.268 10.544 230.039 10.7127C229.823 10.8693 229.539 10.9778 229.19 11.038C228.84 11.0863 228.407 11.1104 227.888 11.1104H224.454C223.623 11.1104 223.044 11.032 222.719 10.8754C222.393 10.7067 222.231 10.3753 222.231 9.88121C222.231 9.60404 222.273 9.27868 222.357 8.90512L222.52 8.14594H224.743C224.695 8.3267 224.671 8.48938 224.671 8.63398C224.671 9.03165 225.014 9.23048 225.701 9.23048H227.473C227.75 9.23048 227.967 9.21843 228.123 9.19433C228.292 9.17023 228.425 9.12203 228.521 9.04972C228.618 8.96537 228.69 8.85692 228.738 8.72436C228.798 8.57976 228.853 8.38695 228.901 8.14594L228.955 7.91096C228.979 7.7784 228.997 7.6579 229.009 7.54944C229.021 7.44099 229.027 7.35664 229.027 7.29638C229.027 6.98307 228.822 6.82642 228.413 6.82642H222.791L224.111 0.662608H232.154L231.757 2.54248H225.918L225.412 4.94654H229.642C230.799 4.94654 231.377 5.48881 231.377 6.57336C231.377 6.79026 231.353 6.9891 231.305 7.16985L230.943 8.90512Z'
						fill='#FF686E'
					/>
					<path
						d='M298.279 8.90512C298.183 9.37509 298.063 9.75468 297.918 10.0439C297.785 10.321 297.605 10.544 297.376 10.7127C297.159 10.8693 296.876 10.9778 296.526 11.038C296.177 11.0863 295.743 11.1104 295.225 11.1104H291.79C290.959 11.1104 290.38 11.032 290.055 10.8754C289.73 10.7067 289.567 10.3753 289.567 9.88121C289.567 9.60404 289.609 9.27868 289.694 8.90512L290.977 2.86784C291.073 2.39787 291.194 2.01828 291.338 1.72907C291.483 1.43986 291.67 1.21693 291.899 1.06027C292.128 0.903617 292.411 0.801189 292.748 0.752987C293.086 0.692735 293.507 0.662608 294.014 0.662608H297.448C298.918 0.662608 299.653 1.1386 299.653 2.09059C299.653 2.19904 299.641 2.31955 299.617 2.4521C299.605 2.57261 299.587 2.71119 299.563 2.86784L299.4 3.62702H297.195C297.243 3.44626 297.267 3.28358 297.267 3.13898C297.267 2.74131 296.924 2.54248 296.237 2.54248H294.465C294.188 2.54248 293.971 2.55453 293.815 2.57863C293.658 2.59068 293.526 2.63286 293.417 2.70516C293.321 2.77746 293.242 2.88592 293.182 3.03052C293.134 3.17513 293.086 3.37396 293.038 3.62702L292.748 4.94654H297.105C298.225 4.94654 298.786 5.40446 298.786 6.3203C298.786 6.4649 298.768 6.61553 298.731 6.77219L298.279 8.90512ZM296.237 8.14594L296.291 7.91096C296.351 7.60969 296.382 7.40484 296.382 7.29638C296.382 6.98307 296.171 6.82642 295.749 6.82642H292.351L292.079 8.14594C292.019 8.4472 291.989 8.64603 291.989 8.74244C291.989 8.9473 292.061 9.07985 292.206 9.1401C292.351 9.20035 292.628 9.23048 293.038 9.23048H294.809C295.086 9.23048 295.303 9.21843 295.46 9.19433C295.628 9.17023 295.761 9.12203 295.857 9.04972C295.954 8.96537 296.026 8.85692 296.074 8.72436C296.134 8.57976 296.189 8.38695 296.237 8.14594Z'
						fill='#FF686E'
					/>
					<defs>
						<linearGradient id='paint0_linear_115_389' x1='66.5504' y1='23.5312' x2='64.0133' y2='51.0473' gradientUnits='userSpaceOnUse'>
							<stop stop-color='#FFA800' />
							<stop offset='1' stop-color='#FFA800' />
						</linearGradient>
					</defs>
				</svg>
				<div className='w-[18.4146rem] h-[.6778rem] bg-black/40 mt-2 relative'>
					<div style={{ width: (vehicleData.rpm / 18) * 100 + '%' }} className='h-full bg-[#FFA800] transition-all' />
					<div style={{ left: (vehicleData.rpm / 18) * 100 + '%' }} className='absolute -top-2.5 w-[.2259rem] h-[1.6946rem] bg-[#D9D9D9] transition-all' />
				</div>
			</div>
		</div>
	);
}
